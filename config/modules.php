<?php

return [
    /*
    |--------------------------------------------------------------------------
    | 模块路径
    |--------------------------------------------------------------------------
    |
    | 此路径用于存储模块。
    |
    */
    'path' => \base_path('modules'),

    /*
    |--------------------------------------------------------------------------
    | 模块命名空间
    |--------------------------------------------------------------------------
    |
    | 此命名空间用于模块。
    |
    */
    'namespace' => 'Modules',

    /*
    |--------------------------------------------------------------------------
    | 启用自动发现
    |--------------------------------------------------------------------------
    |
    | 如果启用，模块将自动发现并引导。
    |
    */
    'auto_discovery' => true,

    /*
    |--------------------------------------------------------------------------
    | 启用缓存
    |--------------------------------------------------------------------------
    |
    | 如果启用，模块发现将被缓存。
    |
    */
    'cache' => false,

    /*
    |--------------------------------------------------------------------------
    | 缓存键
    |--------------------------------------------------------------------------
    |
    | 用于存储模块发现的缓存键。
    |
    */
    'cache_key' => 'zxf.modules',

    /*
    |--------------------------------------------------------------------------
    | 缓存时长
    |--------------------------------------------------------------------------
    |
    | 缓存时长（秒）。默认：3600（1小时）。
    |
    */
    'cache_duration' => 3600,

    /*
    |--------------------------------------------------------------------------
    | 默认优先级
    |--------------------------------------------------------------------------
    |
    | 模块的默认优先级（数字越大优先级越高）。
    | 当模块未定义自身优先级时使用。
    |
    */
    'default_priority' => 100,

    /*
    |--------------------------------------------------------------------------
    | 依赖检查
    |--------------------------------------------------------------------------
    |
    | 是否在启用前检查模块依赖。
    |
    */
    'dependency_check' => true,

    /*
    |--------------------------------------------------------------------------
    | 自动注册服务提供者
    |--------------------------------------------------------------------------
    |
    | 是否自动注册模块服务提供者。
    | 如果禁用，您需要在 config/app.php 中手动注册提供者。
    |
    */
    'auto_register_providers' => true,

    /*
    |--------------------------------------------------------------------------
    | 模块存根路径
    |--------------------------------------------------------------------------
    |
    | 自定义模块存根路径。如果为 null，使用包的默认存根。
    |
    */
    'stubs_path' => null,

    /*
    |--------------------------------------------------------------------------
    | 模块资源 URL
    |--------------------------------------------------------------------------
    |
    | 模块资源的基础 URL（例如，http://example.com/modules）。
    | 由 module_asset() 辅助函数使用。
    |
    */
    'asset_url' => null,

    /*
    |--------------------------------------------------------------------------
    | 允许的模块名称
    |--------------------------------------------------------------------------
    |
    | 允许的模块名称的正则表达式模式。设置为 null 允许任何名称。
    |
    */
    'allowed_module_names' => '/^[a-zA-Z_][a-zA-Z0-9_]*$/',

    /*
    |--------------------------------------------------------------------------
    | 模块存储驱动
    |--------------------------------------------------------------------------
    |
    | 模块资源的存储驱动（例如 'local', 's3', 'ftp'）。
    | 用于模块发布功能。
    |
    */
    'storage_driver' => 'local',

    /*
    |--------------------------------------------------------------------------
    | 模块发布组
    |--------------------------------------------------------------------------
    |
    | 定义使用 module:publish 命令时要发布的资源。
    | 组：config, migrations, views, translations, assets, commands
    |
    */
    'publish_groups' => [
        'config',
        'migrations',
        'views',
        'translations',
        'assets',
        'commands',
    ],

    /*
    |--------------------------------------------------------------------------
    | 模块事件
    |--------------------------------------------------------------------------
    |
    | 是否分发模块事件（ModuleEnabled, ModuleDisabled 等）。
    |
    */
    'dispatch_events' => true,

    /*
    |--------------------------------------------------------------------------
    | 扫描 Composer 包
    |--------------------------------------------------------------------------
    |
    | 是否扫描 Composer 包以查找模块定义。
    | 启用后，composer.json 中包含 "extra.laravel-module" 的包将被视为模块。
    |
    */
    'scan_composer_packages' => false,

    /*
    |--------------------------------------------------------------------------
    | 模块中间件组
    |--------------------------------------------------------------------------
    |
    | 模块路由的默认中间件组。
    |
    */
    'middleware_groups' => [
        'web' => ['web'],
        'api' => ['api'],
    ],

    /*
    |--------------------------------------------------------------------------
    | 模块别名
    |--------------------------------------------------------------------------
    |
    | 模块的别名。允许使用替代名称引用模块。
    | 格式：'alias' => 'real-module-name'
    |
    */
    'aliases' => [],

    /*
    |--------------------------------------------------------------------------
    | 模块清单路径
    |--------------------------------------------------------------------------
    |
    | 存储模块清单文件的路径（存储模块元数据、版本等）。
    | 如果为 null，默认为 storage_path('framework/modules.json')。
    |
    */
    'manifest_path' => null,

    /*
    |--------------------------------------------------------------------------
    | 模块枚举
    |--------------------------------------------------------------------------
    |
    | 定义可用的模块及其生成选项。
    | 格式：'模块名称' => ['generate' => true|false, 'path' => '自定义路径']
    |
    */
    'modules' => [],

    /*
    |--------------------------------------------------------------------------
    | 默认生成选项
    |--------------------------------------------------------------------------
    |
    | 当模块未在 'modules' 数组中明确配置时，是否默认生成模块文件。
    |
    */
    'default_generate' => true,

    /*
    |--------------------------------------------------------------------------
    | 自动发现路由
    |--------------------------------------------------------------------------
    |
    | 是否自动发现并加载模块下的路由文件。
    |
    */
    'auto_discover_routes' => true,

    /*
    |--------------------------------------------------------------------------
    | 自动发现命令
    |--------------------------------------------------------------------------
    |
    | 是否自动发现并注册模块下的 Artisan 命令。
    |
    */
    'auto_discover_commands' => true,

    /*
    |--------------------------------------------------------------------------
    | 自动发现事件
    |--------------------------------------------------------------------------
    |
    | 是否自动发现并注册模块下的事件类。
    |
    */
    'auto_discover_events' => true,

    /*
    |--------------------------------------------------------------------------
    | 自动发现监听器
    |--------------------------------------------------------------------------
    |
    | 是否自动发现并注册模块下的监听器类。
    |
    */
    'auto_discover_listeners' => true,

    /*
    |--------------------------------------------------------------------------
    | 自动发现观察者
    |--------------------------------------------------------------------------
    |
    | 是否自动发现并注册模块下的观察者类。
    |
    */
    'auto_discover_observers' => true,

    /*
    |--------------------------------------------------------------------------
    | 自动发现迁移
    |--------------------------------------------------------------------------
    |
    | 是否自动发现并加载模块下的数据库迁移文件。
    |
    */
    'auto_discover_migrations' => true,

    /*
    |--------------------------------------------------------------------------
    | 自动发现策略
    |--------------------------------------------------------------------------
    |
    | 是否自动发现并注册模块下的策略类（Policies）。
    |
    */
    'auto_discover_policies' => true,

    /*
    |--------------------------------------------------------------------------
    | 自动发现表单请求
    |--------------------------------------------------------------------------
    |
    | 是否自动发现并注册模块下的表单请求类（Form Requests）。
    |
    */
    'auto_discover_requests' => true,

    /*
    |--------------------------------------------------------------------------
    | 自动发现资源
    |--------------------------------------------------------------------------
    |
    | 是否自动发现并注册模块下的资源类（API Resources）。
    |
    */
    'auto_discover_resources' => true,

    /*
    |--------------------------------------------------------------------------
    | 模块启用配置键
    |--------------------------------------------------------------------------
    |
    | 模块配置文件中用于判断模块是否启用的键名。
    | 例如：在模块的 config/config.php 中，'enabled' => true
    |
    */
    'module_config_enabled_key' => 'enabled',
];