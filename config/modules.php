<?php

return [
    /*
    |--------------------------------------------------------------------------
    | 模块命名空间
    |--------------------------------------------------------------------------
    | 定义模块的根命名空间，所有模块类都将使用此前缀
    | 例如: 'Modules' 则模块类命名空间为 Modules\Blog\Http\Controllers\Controller
    |
    */
    'namespace' => 'Modules',

    /*
    |--------------------------------------------------------------------------
    | 模块存储路径
    |--------------------------------------------------------------------------
    | 定义模块存储的基础路径
    | 所有命令在生成文件时都会基于此路径
    |
    */
    'path' => base_path('Modules'),

    /*
    |--------------------------------------------------------------------------
    | 模块资源发布路径
    |--------------------------------------------------------------------------
    | 定义模块静态资源发布到的公共路径
    |
    */
    'assets' => public_path('modules'),

    /*
    |--------------------------------------------------------------------------
    | 文件生成路径配置
    |--------------------------------------------------------------------------
    | 定义模块内部各组件的相对路径
    | 可通过修改这些配置自定义模块结构
    | 所有路径相对于模块根目录
    |
    */
    'paths' => [
        /*
        |--------------------------------------------------------------------------
        | 迁移文件路径
        |--------------------------------------------------------------------------
        | 定义模块迁移文件在模块内的存储路径
        |
        */
        'migration' => 'Database/Migrations',

        /*
        |--------------------------------------------------------------------------
        | 代码生成器路径配置
        |--------------------------------------------------------------------------
        | 定义各类代码生成的目标路径
        |
        */
        'generator' => [
            // 资源文件
            'assets' => 'Resources/assets',
            // 配置文件
            'config' => 'Config',
            // 控制台命令
            'command' => 'Console/Commands',
            // 事件
            'event' => 'Events',
            // 事件监听器
            'listener' => 'Listeners',
            // 数据库迁移
            'migration' => 'Database/Migrations',
            // 模型
            'model' => 'Models',
            // 模型观察者
            'observer' => 'Observers',
            // 策略类
            'policy' => 'Policies',
            // 服务提供者
            'provider' => 'Providers',
            // 仓库类
            'repository' => 'Repositories',
            // 表单验证请求
            'request' => 'Http/Requests',
            // API 资源转换器
            'resource' => 'Http/Resources',
            // 路由文件
            'route' => 'Routes',
            // 数据填充器
            'seeder' => 'Database/Seeders',
            // 测试文件
            'test' => 'Tests',
            // 控制器
            'controller' => 'Http/Controllers',
            // Web控制器子目录
            'controller.web' => 'Http/Controllers/Web',
            // API控制器子目录
            'controller.api' => 'Http/Controllers/Api',
            // Admin控制器子目录
            'controller.admin' => 'Http/Controllers/Admin',
            // 中间件
            'filter' => 'Http/Middleware',
            // 语言文件
            'lang' => 'Resources/lang',
            // 视图文件
            'views' => 'Resources/views',
        ],
    ],

    /*
    |--------------------------------------------------------------------------
    | 路由中间件组
    |--------------------------------------------------------------------------
    | 定义不同路由文件自动加载的中间件组
    | 键为路由文件名（不含扩展名），值为中间件组名称数组
    |
    | 示例:
    | - 'web' => ['web'] 表示 web.php 路由将自动应用 web 中间件组
    | - 'api' => ['api'] 表示 api.php 路由将自动应用 api 中间件组
    | - 'mobile' => ['mobile'] 表示 mobile.php 路由将自动应用 mobile 中间件组
    |
    | 支持任意自定义路由类型，不再限制于 web/api/admin
    | 可以根据项目需求添加更多路由类型和对应的中间件组
    |
    */
    'middleware_groups' => [
        'web' => ['web'],
        'api' => ['api'],
        // 'admin' => ['web', 'admin'], // 需要自定义实现 admin 中间件
        'admin' => ['web'],
        // 可以添加更多自定义路由类型
        // 'mobile' => ['mobile'],
        // 'miniapp' => ['auth:miniapp'],
    ],

    /*
    |--------------------------------------------------------------------------
    | 路由配置
    |--------------------------------------------------------------------------
    | 路由加载相关配置
    |
    */
    'routes' => [
        // 是否自动添加模块前缀到路由
        'prefix' => true,
        // 是否自动添加模块名称到路由名称
        'name_prefix' => true,
        // 默认路由文件列表
        'default_files' => ['web', 'api', 'admin'],
    ],

    /*
    |--------------------------------------------------------------------------
    | 视图配置
    |--------------------------------------------------------------------------
    | 视图加载和命名空间配置
    |
    */
    'views' => [
        // 是否自动注册视图命名空间
        'enabled' => true,
        // 视图命名空间格式: 模块小写名称
        // 例如: blog 模块的视图使用 blog::view.name
        'namespace_format' => 'lower',
        // 可选值: 'lower' (blog), 'studly' (Blog), 'camel' (blogModule)
    ],

    /*
    |--------------------------------------------------------------------------
    | 翻译文件配置
    |--------------------------------------------------------------------------
    | 语言文件加载配置
    |
    */
    'translations' => [
        // 是否自动注册翻译命名空间
        'enabled' => true,
        // 翻译文件路径
        'path' => 'Resources/lang',
    ],

    /*
    |--------------------------------------------------------------------------
    | 自动发现配置
    |--------------------------------------------------------------------------
    | 定义需要自动发现的模块组件
    | 设置为 false 可禁用特定组件的自动加载
    |
    */
    'discovery' => [
        'routes' => true,
        'providers' => true,
        'commands' => true,
        'views' => true,
        'config' => true,
        'translations' => true,
        'migrations' => true,
        'events' => true,
    ],

    /*
    |--------------------------------------------------------------------------
    | 模块缓存配置
    |--------------------------------------------------------------------------
    | 模块信息缓存相关配置
    |
    */
    'cache' => [
        // 是否启用模块缓存
        'enabled' => false,
        // 缓存键名
        'key' => 'modules',
        // 缓存时间（秒），0 表示永久
        'ttl' => 0,
    ],

    /*
    |--------------------------------------------------------------------------
    | 模块注册配置
    |--------------------------------------------------------------------------
    | 定义模块服务提供者的自动注册方式
    |
    */
    'register' => [
        // 是否自动注册模块服务提供者
        'providers' => true,
        // 服务提供者文件名模式
        'provider_pattern' => '{Module}ServiceProvider',
    ],

    /*
    |--------------------------------------------------------------------------
    | 模块命令配置
    |--------------------------------------------------------------------------
    | 定义模块命令的自动注册方式
    |
    */
    'commands' => [
        // 是否自动注册命令
        'enabled' => true,
        // 命令文件路径
        'path' => 'Console/Commands',
    ],

    /*
    |--------------------------------------------------------------------------
    | 模块迁移配置
    |--------------------------------------------------------------------------
    | 模块迁移相关配置
    |
    */
    'migrations' => [
        // 迁移文件前缀
        'prefix' => '',
        // 迁移表前缀
        'table_prefix' => '',
    ],

    /*
    |--------------------------------------------------------------------------
    | 模块仓库配置
    |--------------------------------------------------------------------------
    | 模块仓库行为配置
    |
    */
    'repository' => [
        // 缓存模块列表
        'cache' => false,
        // 缓存时间（秒）
        'cache_ttl' => 3600,
    ],
];
